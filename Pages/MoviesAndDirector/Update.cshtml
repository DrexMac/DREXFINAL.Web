@page
@model DREXFINAL.Web.Pages.MoviesAndDirector.UpdateModel

@{
    ViewData["Title"] = "Edit Movie";
}

<div class="container mt-5">
    <h1 class="display-4 text-center">Update Movie Information</h1>
    <p class="lead text-center">Update the details of the movie.</p>

    <form method="post">
        <div class="mb-3">
            <label for="Title" class="form-label">Title</label>
            <input type="text" class="form-control" id="Title" name="Title" value="@Model.Movie.Title" required>
        </div>

        <div class="mb-3">
            <label for="Genre" class="form-label">Genre</label>
            <input type="text" class="form-control" id="Genre" name="Genre" value="@Model.Movie.Genre" required>
        </div>

        <div class="mb-3">
            <label for="ReleaseDate" class="form-label">Release Date</label>
            <input type="date" class="form-control" id="ReleaseDate" name="ReleaseDate" value="@Model.Movie.ReleaseDate.ToString("yyyy-MM-dd")" required>
        </div>

        <div class="mb-3">
            <label for="Director" class="form-label">Director</label>
            <input type="text" class="form-control" id="Director" name="Director" value="@Model.Movie.Director.Name" required>
        </div>

        <div class="mb-3">
            <label for="AddDirector" class="form-label">Update Director</label>
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="addDirector" name="addDirector">
                <label class="form-check-label" for="addDirector">Add new director</label>
            </div>
            <div id="newDirector" style="display: none;">
                <label for="NewDirectorName" class="form-label">Director Name</label>
                <input type="text" class="form-control" id="NewDirectorName" name="NewDirectorName">
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>

@section Scripts {
    <script>
        document.getElementById('addDirector').addEventListener('change', function () {
            var newDirectorDiv = document.getElementById('newDirector');
            newDirectorDiv.style.display = this.checked ? 'block' : 'none';
        });
    </script>
}
